{"version":3,"sources":["utility/index.js","components/Text.js","components/Image.js","components/Pdf.js","components/QRCode.js","components/Component.js","App.js","index.js"],"names":["isPureObject","obj","Object","getPrototypeOf","prototype","Text","props","data","params","keys","forEach","key","replaceAll","cssStyle","value","css","cssshowborder","border","id","Textkey","style","ReactHtmlParser","children","Image","Imgkey","url","pdfjs","GlobalWorkerOptions","workerSrc","version","Pdf","fileUrl","pdfKey","useState","setNumPages","file","onLoadSuccess","numPages","className","renderMode","pageNumber","width","QRCode","qrCodeContent","subText","additionalProps","renderAs","includeMargin","backgroundColor","height","color","size","bgColor","fgColor","keyRegister","getUniqueKeyId","getUserData","userData","reduce","componentMap","img","str","valObj","length","keyId","backgroundImage","text","rel","href","pdf","qrcode","getComponent","parentKeys","Array","isArray","map","child","getParentComponent","getChildrenComponents","type","templateObj","Component","templateData","search","window","location","searchParams","URLSearchParams","get","updateParameters","App","document","title","windowTitle","template","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.0661e193.chunk.js","sourcesContent":["export const isPureObject = (obj) => {\r\n    return null !== obj && \r\n    typeof obj === 'object' && Object.getPrototypeOf(obj) === Object.prototype;\r\n}\r\n","import React from 'react';\r\nimport ReactHtmlParser from 'react-html-parser';\r\n\r\nconst Text = (props) => {\r\n  let data = props.data; \r\n  if(data != null){\r\n    const params = props.params == null ? {} : props.params;\r\n    Object.keys(params).forEach(key => {\r\n      data = data.replaceAll(`{${key}}`,params[key]);\r\n    })\r\n  }\r\n\r\n  let cssStyle = props.value.css;\r\n  if(props.params != null && cssStyle != null && props.params.cssshowborder === 'true' && props.value.css.border == null){\r\n    cssStyle = {...cssStyle, border: \"1px solid black\"};\r\n  }\r\n  \r\n  return ( \r\n    <div id= {props.Textkey} style={cssStyle}>\r\n      {ReactHtmlParser(data)}\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Text;","import React from 'react';\r\n\r\nconst Image = (props) => {\r\n    let cssStyle = props.value.css;\r\n    if(props.params != null && cssStyle != null && props.params.cssshowborder === 'true' && props.value.css.border == null){\r\n        cssStyle = {...cssStyle, border: \"1px solid black\"};\r\n    }\r\n    return  ( \r\n        <div id= {props.Imgkey} style={{...props.value[\"css\"], ...props.url}}>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\nexport default Image;","import React, { useState } from 'react';\r\nimport { Document, Page, pdfjs } from 'react-pdf';\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = \r\n  `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\nconst Pdf = ({fileUrl, value, params, children, pdfKey}) => {\r\n\r\n    let cssStyle = value == null ? null : value.css;\r\n    if(params != null && cssStyle != null && params.cssshowborder === 'true' && cssStyle.border == null){\r\n        cssStyle = {...cssStyle, border: \"1px solid black\"};\r\n    }\r\n    const [numPages, setNumPages] = useState(null);\r\n\r\n    function onDocumentLoadSuccess({ numPages }) {\r\n        setNumPages(numPages);\r\n    }\r\n//{margin:0, padding: 0, width: '8.5in', height: '11in', textAlign: \"center\", backgroundColor:\"blue\"}\r\n    return (\r\n        <div style={cssStyle} id={pdfKey}>\r\n          <Document\r\n            file={fileUrl}\r\n            onLoadSuccess={onDocumentLoadSuccess}\r\n            className=\"react-pdf__Document\"\r\n            renderMode=\"svg\"\r\n          >\r\n            <Page pageNumber={1} width=\"816\"/>\r\n          </Document>\r\n        </div>\r\n      );\r\n}\r\n\r\nexport default Pdf;","import React from 'react';\r\nimport QRCodeComp from \"qrcode.react\";\r\nimport ReactHtmlParser from 'react-html-parser';\r\n\r\nconst QRCode = ({value, params}) => {\r\n    let cssStyle = value == null ? null : value.css;\r\n    cssStyle = cssStyle == null ? {} : cssStyle;\r\n    let {qrCodeContent} = params || {};\r\n    let {subText} = value || {};\r\n    if(params != null && params.cssshowborder === 'true' && cssStyle.border == null){\r\n        cssStyle = {...cssStyle, border: \"1px solid black\"};\r\n    }\r\n    const additionalProps = {renderAs: 'svg', includeMargin: false};\r\n    let {backgroundColor, height, width, color} = cssStyle;\r\n    height = height == null ? width : height;\r\n    width = width == null ? height : width;\r\n    if(height != null || width != null){\r\n        additionalProps.size = height > width ? height : width;\r\n    }\r\n    if(backgroundColor != null){\r\n        additionalProps.bgColor = backgroundColor;\r\n    }\r\n    if(color != null){\r\n        additionalProps.fgColor = color;\r\n    }\r\n    return qrCodeContent == null \r\n        ? null\r\n        : (\r\n            <div style={{...cssStyle, height: 'auto'}} >\r\n                <QRCodeComp value={qrCodeContent} {...additionalProps}/>\r\n                {subText == null ? null : ReactHtmlParser(subText)}\r\n            </div>\r\n        )\r\n}\r\n\r\nexport default QRCode;","import React from 'react';\r\nimport {isPureObject} from '../utility/index';\r\nimport Text from './Text';\r\nimport Image from './Image';\r\nimport Pdf from './Pdf';\r\nimport QRCode from './QRCode';\r\n\r\nconst imUrl=(str)=> {\r\n    return {\r\n      backgroundImage: `url('${str}')`\r\n    }      \r\n}\r\n\r\nconst getChildrenComponents = (parentKeys, children,  userData, params) => {\r\n    if(Array.isArray(children)){\r\n        return children.map((child) => getParentComponent(child, userData, params, parentKeys));\r\n    }else if(isPureObject(children)){\r\n        return getParentComponent(children, userData, params, parentKeys);\r\n    }else{\r\n        return null;\r\n    }\r\n}\r\n\r\nconst keyRegister = {};\r\n\r\nconst getUniqueKeyId = (key) => {\r\n    if(keyRegister[key] == null){\r\n        keyRegister[key] = 0;\r\n    }\r\n    ++keyRegister[key];\r\n    return `${key}${keyRegister[key]}`;\r\n}\r\n\r\nconst getUserData = (userData, keys) => {\r\n    return keys.reduce((data, key)=>{\r\n        return data == null ? null : data[key];\r\n    },userData);\r\n}\r\n\r\nconst getImageComponent = ({keys, valObj, userData, children, params}) => {\r\n    let key = keys[keys.length-1];\r\n    let keyId = getUniqueKeyId(key);\r\n    let data = getUserData(userData, keys);\r\n    data = typeof data === 'string' ? data : null;\r\n    return (\r\n        <Image key={keyId} Imgkey={key} value={valObj} url={imUrl(`${data}`)} params={params}>\r\n            {children}\r\n        </Image>\r\n    )\r\n}\r\n\r\nconst getTextComponent = ({valObj, userData, keys, children, params}) => {\r\n    let key = keys[keys.length-1];\r\n    let keyId = getUniqueKeyId(key);\r\n    let data = getUserData(userData, keys);\r\n    data = typeof data === 'string' ? data : null;\r\n    return (\r\n        <Text key={keyId} Textkey={key} value={valObj} data={data} params={params}>\r\n            {children}\r\n        </Text>\r\n    )\r\n}\r\n\r\nconst getQRCodeComponent = ({valObj, keys, params}) => {\r\n    let key = keys[keys.length-1];\r\n    let keyId = getUniqueKeyId(key);\r\n    return <QRCode value={valObj} key={keyId} params={params} />\r\n}\r\n\r\nconst getCssComponent = ({keys, valObj}) => {\r\n    let key = keys[keys.length-1];\r\n    let keyId = getUniqueKeyId(key);\r\n    return <link rel=\"stylesheet\" href={valObj.href} key={keyId}/>\r\n}\r\n\r\nconst getPdfComponent = ({valObj, userData, keys, children, params}) => {\r\n    let key = keys[keys.length-1];\r\n    let keyId = getUniqueKeyId(key);\r\n    let data = getUserData(userData, keys);\r\n    data = typeof data === 'string' ? data : null;\r\n    return (\r\n        <Pdf key={keyId} pdfKey={key} value={valObj} fileUrl={data} params={params}>\r\n            {children}\r\n        </Pdf>        \r\n    )\r\n}\r\n\r\nconst componentMap = {\r\n    img: getImageComponent,\r\n    text: getTextComponent,\r\n    css: getCssComponent,\r\n    pdf: getPdfComponent,\r\n    qrcode: getQRCodeComponent\r\n}\r\n\r\nconst getComponent = (keys, valObj,  userData, params) => {\r\n    if(isPureObject(valObj)){\r\n        let children = getChildrenComponents(keys, valObj.children,  userData, params);\r\n        if(componentMap[valObj.type]){\r\n            return componentMap[valObj.type]({valObj, userData, keys, children, params});\r\n        }else if(children != null){\r\n            return <>{children}</>\r\n        }\r\n    }\r\n    return null;\r\n    \r\n}\r\n\r\nconst getParentComponent = (templateObj, userData, params, parentKeys=[]) => {\r\n    if(isPureObject(templateObj)){\r\n        return Object.keys(templateObj)\r\n        .map( key => {\r\n            const keys = [...parentKeys, key];\r\n            return getComponent(keys, templateObj[key], userData, params);\r\n        })\r\n    }else{\r\n        return null;\r\n    }\r\n}\r\n\r\nconst Component = (props) => {\r\n    const {templateData, params, userData} = props;\r\n    return getParentComponent(templateData, userData, params);\r\n}\r\n\r\nexport default Component;\r\n\r\n/*\r\n{\r\n    page1: {\r\n        type: 'text',\r\n        css: {},\r\n        className: '',\r\n        children: [\r\n            {}\r\n        ]\r\n    },\r\n    k2: [\r\n        {k3: {}}\r\n    ]\r\n}\r\n*/","import React from 'react';\r\nimport Component  from './components/Component';\r\nimport data from './json/data.json';\r\nimport template from './json/template.json';\r\n\r\nlet params = {};\r\n\r\nconst updateParameters = () => {\r\n  let search = window.location.search;\r\n  let searchParams = new URLSearchParams(search);\r\n  for(let key of searchParams.keys()){\r\n    params[key] = searchParams.get(key);\r\n  }\r\n}\r\n\r\nupdateParameters();\r\n\r\n  \r\nconst App  = ()=>{\r\n  document.title = data.windowTitle || \"\";\r\n  return <Component templateData={template} params={params} userData={data}/>\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}